function editme(a,b){if("Edit"==$(a).text()){$(".editmecancel").click(),$(".cancelmegid").click(),$("#"+b).prev().show();var c=$("#"+b).html();savedinfo=$("#"+b).html(),'<span class="seriesna">N/A</span>'==c&&(c=""),"editstatus"==b&&(c=c.replace(/(<br>)/g,""),c.indexOf('<span class="seriesna">N/A</span>')>-1&&(c="")),c=c.replace(/&nbsp;/g," "),c=c.replace(/(<p>)/g,""),c=c.replace(/(<\/p>)/g,"\n"),c=c.replace(/(<br>)/g,"\n"),c=c.replace("</ul>","</ul>\n"),c=c.replace(/^\s*|\s*$/g,""),"edityear"==b?('<span class="seriesna">N/A</span>'==c&&(c=""),$("#"+b).replaceWith('<input id="'+b+'" value="'+c+'">')):$("#"+b).replaceWith('<textarea id="'+b+'">'+c+"</textarea>"),$("#"+b).textareaAutoSize(),$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="saveedit(this,\''+b+'\')">Save</span>] [<span class="editmecancel" onclick="editme(this,\''+b+"')\">Cancel</span>]</div>")}else $(".editmsg").hide(),$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="editme(this,\''+b+"')\">Edit</span>]</div>"),$("#"+b).replaceWith('<div id="'+b+'">'+savedinfo+"</div>")}function editrel(a,b){"Edit NMR"==$(a).text()?($(".editmecancel").click(),$(".cancelmegid").click(),$(".missrelease").show(),$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="saverel(this,\''+b+'\')">Save NMR</span>] [<span class="editmecancel" onclick="editrel(this,\''+b+"')\">Cancel</span>]</div>")):($($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="editrel(this,\''+b+"')\">Edit NMR</span>]"),$(".missrelease").hide())}function saverel(a,b){$(a).addClass("disabled"),$(".editmecancel").addClass("disabled");var c=$("#mypostid").attr("value"),d=$("#mrnum").attr("value");$.ajax({type:"POST",url:"//www.novelupdates.com/wp-admin/admin-ajax.php",data:{action:"nd_editinfo",editedinfo:d,mypostid:c,editid:b},success:function(c){c=c.slice(0,-1),$(".editmsg").hide(),$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="editrel(this,\''+b+"')\">Edit NMR</span>]"),$(".missrelease").hide()}})}function editmelist(a,b,c){var d="";"Edit"==$(a).text()?($(".editmecancel").click(),$(".cancelmegid").click(),$("#"+b).prev().show(),$("#"+c).hide(),"edittags"==b&&($("#taghidemsg").hide(),$("a#etagme").each(function(){d=d+$(this).text()+"\n"}),d=d.replace(/^\s*|\s*$/g,"")),"editauthors"==b&&($("a#authtag").each(function(){d=d+$(this).text()+"\n"}),d=d.replace(/^\s*|\s*$/g,"")),"editartists"==b&&($("a#artiststag").each(function(){d=d+$(this).text()+"\n"}),d=d.replace(/^\s*|\s*$/g,"")),"editopublisher"==b&&($("a#myopub").each(function(){d=d+$(this).text()+"\n"}),d=d.replace(/^\s*|\s*$/g,"")),"editepublisher"==b&&($("a#myepub").each(function(){d=d+$(this).text()+"\n"}),d=d.replace(/^\s*|\s*$/g,"")),$("#"+b).replaceWith('<textarea id="'+b+'">'+d+"</textarea>"),$("#"+b).textareaAutoSize(),$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="saveEOptions(this,\''+b+"','"+c+'\')">Save</span>] [<span class="editmecancel" onclick="cancelOption(this,\''+b+"','"+c+"')\">Cancel</span>]</div>")):($(".editmsg").hide(),$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="editmelist(this,\''+b+"','"+c+"')\">Edit</span>]</div>"),$("#"+b).replaceWith('<div id="'+b+'">'+savedinfo+"</div>"))}function cancelmegid(a,b){"Edit"==$(a).text()?($(".editmecancel").click(),$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="showeditgid(this,\''+b+'save\')">Save</span>] [<span class="editmecancel" onclick="editme(this,\''+b+"')\">Cancel</span>]</div>")):($($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="showeditgid(this,\''+b+"')\">Edit</span>]</div>"),$("#"+b).replaceWith('<div id="'+b+'"></div>'),$("#seriesgenre").show())}function saveedit(a,b){$(a).addClass("disabled"),$(".editmecancel").addClass("disabled");var c=$("#"+b).val(),d=$("#mypostid").attr("value");$.ajax({type:"POST",url:"//www.novelupdates.com/wp-admin/admin-ajax.php",data:{action:"nd_editinfo",editedinfo:c,mypostid:d,editid:b},success:function(c){c=c.slice(0,-1),$(".editmsg").hide(),$("#"+b).replaceWith('<div id="'+b+'">'+c+"</div>"),$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="editme(this,\''+b+"')\">Edit</span>]</div>")}})}function showeditgid(a,b){var c="",d=$("#mypostid").attr("value");$(a).addClass("disabled"),$(".cancelmegid").addClass("disabled"),"Edit"==$(a).text()?($(".editmecancel").click(),$("#seriesgenre").hide(),$(".genremsg").text("Loading Genre...")):$("#"+b).replaceWith('<div id="'+b+'">'+savedinfo+"</div>"),"editgenresave"==b&&($(".genremeedit").each(function(){"include"==$(this).attr("chkme")&&(c=c+$(this).attr("genreid")+",")}),c=c.replace(/,\s*$/,"")),$.ajax({type:"POST",url:"//www.novelupdates.com/wp-admin/admin-ajax.php",data:{action:"nd_editgid",editid:b,strInclude:c,mypostid:d},success:function(c){c=c.slice(0,-1),"Edit"==$(a).text()&&$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="showeditgid(this,\''+b+'save\')">Save</span>] [<span class="cancelmegid" onclick="cancelmegid(this,\''+b+"')\">Cancel</span>]</div>"),"editgenre"==b?($(".genremsg").text(""),$("#"+b).replaceWith('<div id="'+b+'">'+c+"</div>")):($($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="showeditgid(this,\'editgenre\')">Edit</span>]</div>'),$("#seriesgenre").replaceWith('<div id="seriesgenre">'+c+"</div>"),$("#editgenre").replaceWith('<div id="editgenre"></div>'))}})}function showcagedit(a,b,c){var e=$("#mypostid").attr("value");if($(a).addClass("disabled"),"Edit"==$(a).text()){if($(".editmecancel").click(),$(".cancelmegid").click(),$("#"+c).hide(),$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="saveEOptions(this,\''+b+"','"+c+'\')">Save</span>] [<span class="editmecancel" onclick="cancelOption(this,\''+b+"','"+c+"')\">Cancel</span>]</div>"),"editlanguage"==b&&showlanguage(e,b,"language"),"edittype"==b&&showlanguage(e,b,"ntype"),"editlicensed"!=b&&"edittranslated"!=b||$("#"+b).replaceWith('<div id="'+b+'"><ul class="genreedit"><li><a class="genremeedit" href="javascript:void(0);" genreid="Yes" chkme="off" onclick="cOptionEdit(this);"><i class="fa fa-square-o"></i>Yes</a></li><li><a class="genremeedit" href="javascript:void(0);" genreid="No" chkme="off" onclick="cOptionEdit(this);"><i class="fa fa-square-o"></i>No</a></li></ul></div>'),"editlicensed"==b||"edittranslated"==b){var f=$("#"+c).text();f=f.replace(/\s/g,""),"Yes"!=f&&"No"!=f||cOptionEdit(".genremeedit[genreid="+f+"]")}}else $("#"+b).replaceWith('<div id="'+b+'">'+savedinfo+"</div>")}function cGenreEdit(a){"fa fa-square-o"==$(a).children("i").attr("class")?$(a).children("i").toggleClass("fa-square-o fa-check-square-o"):$(a).children("i").toggleClass("fa-check-square-o fa-square-o "),"off"==$(a).attr("chkme")?$(a).attr("chkme","include"):$(a).attr("chkme","off")}function cOptionEdit(a){$(".genremeedit").children("i").attr("class","fa fa-square-o"),$(".genremeedit").attr("chkme","off"),$(a).children("i").attr("class","fa fa-square-o"),$(a).attr("chkme","off"),"fa fa-square-o"==$(a).children("i").attr("class")?$(a).children("i").toggleClass("fa-square-o fa-check-square-o"):$(a).children("i").toggleClass("fa-check-square-o fa-square-o "),"off"==$(a).attr("chkme")?$(a).attr("chkme","include"):$(a).attr("chkme","off")}function cancelOption(a,b,c){$(".editmsg").hide(),"edittags"==b||"editauthors"==b||"editartists"==b||"editopublisher"==b||"editepublisher"==b?$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="editmelist(this,\''+b+"','"+c+"')\">Edit</span>]</div>"):$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="showcagedit(this,\''+b+"','"+c+"')\">Edit</span>]</div>"),$("#"+b).replaceWith('<div id="'+b+'"></div>'),$("#"+c).show()}function saveEOptions(a,b,c){var d="",e=$("#mypostid").attr("value");$(a).addClass("disabled"),$(".editmecancel").addClass("disabled"),"editlanguage"!=b&&"edittype"!=b||($(".genremeedit").each(function(){"include"==$(this).attr("chkme")&&(d=d+$(this).attr("genreid")+",")}),d=d.replace(/,\s*$/,"")),"editlicensed"!=b&&"edittranslated"!=b||($(".genremeedit").each(function(){"include"==$(this).attr("chkme")&&(d=d+$(this).attr("genreid")+",")}),d=d.replace(/,\s*$/,"")),"edittags"!=b&&"editauthors"!=b&&"editartists"!=b&&"editopublisher"!=b&&"editepublisher"!=b||(arrInclude=$("#"+b).val().split("\n"),d=arrInclude.join(",")),$.ajax({type:"POST",url:"//www.novelupdates.com/wp-admin/admin-ajax.php",data:{action:"nd_saveoptions",editid:b,strInclude:d,mypostid:e},success:function(d){d=d.slice(0,-1),$(".editmsg").hide(),"Edit"==$(a).text()&&$($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="saveEOptions(this,\''+b+"','"+c+'\')">Save</span>] [<span class="editmecancel" onclick="cancelOption(this,\''+b+"','"+c+"')\">Cancel</span>]</div>"),"editlanguage"!=b&&"editlicensed"!=b&&"edittranslated"!=b&&"edittype"!=b||($($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="showcagedit(this,\''+b+"','"+c+"')\">Edit</span>]</div>"),$("#"+b).replaceWith('<div id="'+b+'"></div>'),$("#"+c).replaceWith('<div id="'+c+'">'+d+"</div>")),"edittags"!=b&&"editauthors"!=b&&"editartists"!=b&&"editopublisher"!=b&&"editepublisher"!=b||($($(a)).parent().replaceWith('<div class="edit">[<span class="editme" onclick="editmelist(this,\''+b+"','"+c+"')\">Edit</span>]</div>"),$("#"+b).replaceWith('<div id="'+b+'"></div>'),$("#"+c).replaceWith('<div id="'+c+'">'+d+"</div>"))}})}function showlanguage(a,b,c){"language"==c&&$(".langlmsg").text("Loading..."),"ntype"==c&&$(".typelmsg").text("Loading..."),$.ajax({type:"POST",url:"//www.novelupdates.com/wp-admin/admin-ajax.php",data:{action:"nd_editlangid",mypostid:a,type:c},success:function(a){a=a.slice(0,-1),$("#"+b).replaceWith('<div id="'+b+'">'+a+"</div>"),"language"==c&&$(".langlmsg").text(""),"ntype"==c&&$(".typelmsg").text(""),"editlanguage"==b&&$(".genre.lang").each(function(){cOptionEdit(".genremeedit[genreid="+$(this).attr("lid")+"]")}),"edittype"==b&&$(".genre.type").each(function(){cOptionEdit(".genremeedit[genreid="+$(this).attr("lid")+"]")})}})}var savedinfo;